<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Serial_interp__State (serial_interp@26bb1931b3ad.Serial_interp__State)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">serial_interp@26bb1931b3ad</a> &#x00BB; Serial_interp__State</nav><h1>Module <code>Serial_interp__State</code></h1><p>Implementation of the state and the functions acting on it.</p></header><dl><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type</span> state</code><code> = </code><table class="variant"><tr id="type-state.State" class="anchored"><td class="def constructor"><a href="#type-state.State" class="anchor"></a><code>| </code><code><span class="constructor">State</span> <span class="keyword">of</span> <a href="../Serial_interp/Ast_aug/index.html#type-program_aug">Serial_interp.Ast_aug.program_aug</a> * <a href="../Serial_interp/Sigma/index.html#type-sigma">Serial_interp.Sigma.sigma</a> * <a href="../Serial_interp/Delta/index.html#type-delta">Serial_interp.Delta.delta</a></code></td></tr></table></dt><dd><p><code>state</code> is a type consisting of a tuple including:</p><ol><li>program_aug (the list of statements constituting the program);</li><li>The program store (sigma);</li><li>The auxiliary store (delta).</li></ol></dd></dl><dl><dt class="spec value" id="val-dassign_fwd"><a href="#val-dassign_fwd" class="anchor"></a><code><span class="keyword">val</span> dassign_fwd : <span>ide_name:<a href="../Serial_interp/Ast/index.html#type-ide">Serial_interp.Ast.ide</a></span> <span>&#45;&gt;</span> <span>new_value:int</span> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>Executes a destructive assignment in forward execution mode, assigning <code>new_value</code> to the variable <code>ide_name</code>.</p><p>In order to preserve <code>ide_name</code>'s current value, <code>curr_value</code> is retrieved from the sigma store and pushed onto <code>ide_name</code>'s stack in the auxiliary delta store; at that point, <code>ide_name</code>'s value in the sigma store can be overwritten with <code>new_value</code>, and the resulting new state is returned.</p></dd></dl><dl><dt class="spec value" id="val-dassign_rev"><a href="#val-dassign_rev" class="anchor"></a><code><span class="keyword">val</span> dassign_rev : <span>ide_name:<a href="../Serial_interp/Ast/index.html#type-ide">Serial_interp.Ast.ide</a></span> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>Executes a destructive assignment in reverse execution mode.</p><p><code>ide_name</code>'s previous value (<code>retrieved_value</code>) is retrieved from <code>ide_name</code>'s stack in the auxiliary delta store, and <code>retrieved_value</code> gets popped (removed) from <code>ide_name</code>'s stack; at that point, <code>retrieved_value</code> is assigned to <code>ide_name</code> in the sigma store, and the resulting new state is returned.</p></dd></dl><dl><dt class="spec value" id="val-cadd"><a href="#val-cadd" class="anchor"></a><code><span class="keyword">val</span> cadd : <a href="../Serial_interp/Ast/index.html#type-ide">Serial_interp.Ast.ide</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Sigma.cadd&quot;"><code>Sigma</code>.cadd</span> to the sigma store contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-csub"><a href="#val-csub" class="anchor"></a><code><span class="keyword">val</span> csub : <a href="../Serial_interp/Ast/index.html#type-ide">Serial_interp.Ast.ide</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Sigma.csub&quot;"><code>Sigma</code>.csub</span> to the sigma store contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-push_if"><a href="#val-push_if" class="anchor"></a><code><span class="keyword">val</span> push_if : bool <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Delta.push_if&quot;"><code>Delta</code>.push_if</span> to the auxiliary delta store contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-top_if"><a href="#val-top_if" class="anchor"></a><code><span class="keyword">val</span> top_if : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Delta.top_if&quot;"><code>Delta</code>.top_if</span> to the auxiliary delta store contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-pop_if"><a href="#val-pop_if" class="anchor"></a><code><span class="keyword">val</span> pop_if : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Delta.pop_if&quot;"><code>Delta</code>.pop_if</span> to the auxiliary delta store contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-push_while"><a href="#val-push_while" class="anchor"></a><code><span class="keyword">val</span> push_while : bool <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Delta.push_while&quot;"><code>Delta</code>.push_while</span> to the auxiliary delta store contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-top_while"><a href="#val-top_while" class="anchor"></a><code><span class="keyword">val</span> top_while : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Delta.top_while&quot;"><code>Delta</code>.top_while</span> to the auxiliary delta store contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-pop_while"><a href="#val-pop_while" class="anchor"></a><code><span class="keyword">val</span> pop_while : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Delta.pop_while&quot;"><code>Delta</code>.pop_while</span> to the auxiliary delta store contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-get_program"><a href="#val-get_program" class="anchor"></a><code><span class="keyword">val</span> get_program : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="../Serial_interp/Ast_aug/index.html#type-program_aug">Serial_interp.Ast_aug.program_aug</a></code></dt><dd><p>Returns the program contained inside the specified state parameter.</p></dd></dl><dl><dt class="spec value" id="val-set_program"><a href="#val-set_program" class="anchor"></a><code><span class="keyword">val</span> set_program : <a href="../Serial_interp/Ast_aug/index.html#type-program_aug">Serial_interp.Ast_aug.program_aug</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>Given a program <code>p</code> and a state <code>state</code> as parameters, returns a state consisting of the given <code>state</code> with <code>p</code> replacing the previously contained program.</p></dd></dl><dl><dt class="spec value" id="val-get_sigma"><a href="#val-get_sigma" class="anchor"></a><code><span class="keyword">val</span> get_sigma : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="../Serial_interp/Sigma/index.html#type-sigma">Serial_interp.Sigma.sigma</a></code></dt><dd><p>Returns the sigma store contained inside the specified state parameter.</p></dd></dl><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : <a href="../Serial_interp/Ast_aug/index.html#type-program_aug">Serial_interp.Ast_aug.program_aug</a> <span>&#45;&gt;</span> <a href="../Serial_interp/Sigma/index.html#type-sigma">Serial_interp.Sigma.sigma</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>Takes a program and an initial sigma store as parameters, and returns a state with</p><ul><li>The given program;</li><li>The given sigma store;</li><li>An empty auxiliary (delta) store.</li></ul></dd></dl><dl><dt class="spec value" id="val-prepend_stmt"><a href="#val-prepend_stmt" class="anchor"></a><code><span class="keyword">val</span> prepend_stmt : <a href="../Serial_interp/Ast_aug/index.html#type-stmt_aug">Serial_interp.Ast_aug.stmt_aug</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Program.prepend_stmt&quot;"><code>Program</code>.prepend_stmt</span> to the program contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-append_stmt"><a href="#val-append_stmt" class="anchor"></a><code><span class="keyword">val</span> append_stmt : <a href="../Serial_interp/Ast_aug/index.html#type-stmt_aug">Serial_interp.Ast_aug.stmt_aug</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Program.append_stmt&quot;"><code>Program</code>.append_stmt</span> to the program contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-prev_stmt"><a href="#val-prev_stmt" class="anchor"></a><code><span class="keyword">val</span> prev_stmt : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Program.prev_stmt&quot;"><code>Program</code>.prev_stmt</span> to the program contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-get_prev_stmt"><a href="#val-get_prev_stmt" class="anchor"></a><code><span class="keyword">val</span> get_prev_stmt : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="../Serial_interp/Ast_aug/index.html#type-stmt_aug">Serial_interp.Ast_aug.stmt_aug</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Program.get_prev_stmt&quot;"><code>Program</code>.get_prev_stmt</span> to the program contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-get_curr_stmt"><a href="#val-get_curr_stmt" class="anchor"></a><code><span class="keyword">val</span> get_curr_stmt : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="../Serial_interp/Ast_aug/index.html#type-stmt_aug">Serial_interp.Ast_aug.stmt_aug</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Program.get_curr_stmt&quot;"><code>Program</code>.get_curr_stmt</span> to the program contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-next_stmt"><a href="#val-next_stmt" class="anchor"></a><code><span class="keyword">val</span> next_stmt : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Program.next_stmt&quot;"><code>Program</code>.next_stmt</span> to the program contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-last_stmt"><a href="#val-last_stmt" class="anchor"></a><code><span class="keyword">val</span> last_stmt : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>This is a wrapper which applies <span class="xref-unresolved" title="unresolved reference to &quot;Program.last_stmt&quot;"><code>Program</code>.last_stmt</span> to the program contained inside the specified state parameter, and returns the resulting state.</p></dd></dl><dl><dt class="spec value" id="val-is_prg_at_start"><a href="#val-is_prg_at_start" class="anchor"></a><code><span class="keyword">val</span> is_prg_at_start : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns a boolean value indicating whether the program's current statement/instruction in the given <code>state</code> is the main program's first statement/instruction.</p></dd></dl><dl><dt class="spec value" id="val-is_prg_at_end"><a href="#val-is_prg_at_end" class="anchor"></a><code><span class="keyword">val</span> is_prg_at_end : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns a boolean value indicating whether the program's current statement/instruction in the given <code>state</code> is the main program's last statement/instruction.</p></dd></dl></div></body></html>